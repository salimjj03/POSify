<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POSipy</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../static/style/layout.css">
</head>
<body>
        <section class="container">
                <aside>
                        <div id="nav">
                                <h1>POSify</h1>
                                <div id="user">
                                        <div id="pro"><span> <b>{{ user.full_name[0]  }} </b></span></div>
                                        <div>{{ user.full_name  }}</div>
                                </div>
                                <nav>
                                        <ul>
                                        <li id="admin_dashbord">Dashbord</li>
                                        <li id="admin_transaction">Transactions</li>
                                        <li id="view_staff">view staff</li>
                                        <li id="add_staff">Add staff</li>
                                        </ul>
                                </nav>
                        </div>
                </aside>
<section class="main">
        <header> <div id="role">{{ user.role  }}</div><div id="pass">change password</div><div id="logout">logout</div> </header>
        <section id="main2">

        <h1 id="tag">Dashbord</h1>
        <section id="main3">
		<div id="admin_home">
			<div class="dashboard-welcome">
    <h2>Welcome to Posify Dashboard</h2>
    <p>Hello [Username],</p>
    <p>Welcome to Posify, your all-in-one point of sale solution. With Posify, you can easily manage your sales, inventory, customers, and much more, all from one convenient dashboard.</p>
    <p>Get started by exploring the various features available to you:</p>
    <ul>
        <li>View and manage your transactions</li>
        <li>Track inventory levels and restock products</li>
        <li>Generate sales reports for insights into your business</li>
        <li>Add new products and update existing ones</li>
        <li>Manage customer information and loyalty programs</li>
    </ul>
    <p>If you need any assistance or have questions, don't hesitate to reach out to our support team. We're here to help you succeed!</p>
    <p>Happy selling!</p>
</div>
	<h1>Hello, {{ user.full_name  }}</h1>
  <table border="1">
	  <tr><td><b> Full Name</b> </td><td><b> User Name </b></td> <td><b>Total transactions</b></td> <td><b> Total profit</b></td></tr>
  {% for k, v in storage.all("User").items()  %}
  <td> {{ v.full_name  }} </td> <td> {{ v.user_name  }} </td> <td>{{ storage.profit(user_id=v.id).get("count") }} </td> <td> {{ storage.profit(user_id=v.id).get("profit") }}  </td></tr>
  {% endfor  %}
  </table>
  </div>
   </section>
    <h1 id="tag"></h1>
    </section>
    </section>
  </section>

    <script>
	    $(function(){
				$.ajax({
                                                    url: "http://localhost:5000/admin_home/{{ user.user_name }}",
                                                    dataType: "html",
                                                    success: function(data){
                                                                        $("#admin_home").html(data);
                                                                }
                                            })

				$("#admin_dashbord").on("click", function() {
                                                    $.ajax({
					            url: "http://localhost:5000/admin_home/{{ user.user_name }}",
                                                    dataType: "html",
                                                    success: function(data){
                                                                        $("#admin_home").html(data);
                                                                }
                                            })
                                            })
				$("#admin_transaction").on("click", function() {
						    $.ajax({
						    url: "http://localhost:5000/admin_transactions",
						    dataType: "html",
						    success: function(data){
									$("#admin_home").html(data);
								}
					    })
					    })
				$("#view_staff").on("click", function() {
                                                    $.ajax({
                                                    url: "http://localhost:5000/admin_users",
                                                    dataType: "html",
                                                    success: function(data){
                                                                        $("#admin_home").html(data);
                                                                }
                                            })
                                            })
				$("#add_staff").on("click", function() {
                                                    $.ajax({
                                                    url: "http://localhost:5000/register",
                                                    dataType: "html",
                                                    success: function(data){
                                                                        $("#admin_home").html(data);
                                                                }
                                            })
                                            })
				$("#logout").on("click", function(){
               					 window.location.href = 'http://localhost:5000/';
        				    })

			})
    </script>
</body>
</html>
